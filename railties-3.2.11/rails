#!/usr/bin/env ruby
#
# This file was generated by RubyGems.
#
# The application 'railties' is installed as part of a gem, and
# this file is here to facilitate running it.
#

# railties-3.2.11/rails
# Railsの起動スクリプト(Railsの起動スクリプトはRailsではなくRailtiesのスクリプトです)

require 'rubygems'

version = ">= 0"

# 第一プログラム引数(serverとかconsoleとか)を取得する
if ARGV.first
  str = ARGV.first
  # プログラム引数を破壊しないように浅いコピーを使用する
  # なんでBINARYにするのかは分からない
  str = str.dup.force_encoding("BINARY") if str.respond_to? :force_encoding
  # 第一プログラム引数がバージョン情報であれば、バージョンを設定し、プログラム引数から削除する
  if str =~ /\A_(.*)_\z/
    version = $1
    ARGV.shift
  end
end

# Kernel.gem(gem_name, version):
# name:    Gem名
# version: Gemのバージョン，複数バージョンがダウンロードされているに効果を発揮する(デフォルトは新しいバージョン)
# requireやloadで読み込むGemのバージョンを指定する
# 単体ではGemは読み込まない
gem 'railties', version
# Gem#bin_path(gem_name, exec_filename, version)
# gem_name:      Gem名
# exec_filename: 実行ファイル名
# version:       Gemのバージョン
#load Gem.bin_path('railties', 'rails', version) # 実行できるとめんどくさいからコメントアウト
